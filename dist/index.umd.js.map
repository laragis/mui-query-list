{"version":3,"file":"index.umd.js","sources":["../src/constants.js","../src/context.js","../src/hooks.js","../src/utils/fetchData.js","../src/components/QueryPagination/types/Simple.js","../src/components/QueryPagination/types/Advanced.js","../src/components/QueryPagination/types/Links.js","../src/components/QueryPagination/QueryPagination.js","../src/utils/detectReactObject.js","../src/components/QueryPagination/types/LoadMore.js","../src/components/QueryPagination/types/InfiniteLoading.js","../src/components/QueryList/InfiniteQueryList.js","../src/components/QueryList/SimpleQueryList.js","../src/utils/formatNumber.js","../src/utils/renderList.js","../src/components/QueryList/QueryList.js","../src/utils/renderListItem.js"],"sourcesContent":["export const SIMPLE = 'simple'\nexport const ADVANCED = 'advanced'\nexport const LOAD_MORE = 'load-more'\nexport const LINKS = 'links'\nexport const INFINITE_LOADING = 'infinite-loading'\n\nexport const PAGINATION_TYPES = {\n  [SIMPLE]: 'Simple',\n  [LINKS]: 'Links',\n  [ADVANCED]: 'Advanced',\n  [LOAD_MORE]: 'Load More',\n  [INFINITE_LOADING]: 'Infinite Loading',\n}","import create from 'zustand-store-addons'\nimport createContext from 'zustand/context'\nimport shallow from 'zustand/shallow'\nimport { SIMPLE } from './constants'\nimport produce from 'immer'\nimport { get } from 'lodash'\n\nexport const createStore = () => create((set, get) => ({\n  pagination: SIMPLE,\n  queryKey: [],\n\n  init: (props) => {\n    let queryKey = [\n      props.queryKey,\n      {\n        url: props.url,\n        // pagination: props.pagination,\n        // params: {\n        //   page: props.page > 0 ? props.page : 1,\n        //   perPage: props.perPage > 0 ? props.perPage : 20,\n        // }\n      }\n    ]\n\n    console.log(queryKey)\n\n    set({\n      queryKey,\n      pagination: props.pagination,\n      selected: false\n    })\n  },\n\n  selected: false,\n  setSelected: selected => set({selected}),\n\n  setPage: (page) => set(\n    produce((state) => {\n      state.queryKey[1].params.page = page\n    })\n  ),\n\n  setPerPage: (perPage) => set(\n    produce((state) => {\n      state.queryKey[1].params.perPage = perPage\n    })\n  ),\n}), {\n  computed: {\n    perPage(){\n      return get(this.queryKey, `1.params.perPage`)\n    },\n\n    page(){\n      return get(this.queryKey, `1.params.page`)\n    }\n  }\n})\n\n\nconst context = createContext()\n\nexport const Provider = context.Provider\n\nexport const useStore = (selector, equalityFn) => {\n  return context.useStore(...stateHook(selector, equalityFn))\n}\n\nconst stateHook = (selector, equalityFn) => {\n  if (typeof selector === 'string') {\n    if (selector.indexOf(',') !== -1) {\n      const props = selector.split(',').map(part => part.trim())\n      return [state => props.map(prop => state[prop]), shallow]\n    }\n    return [state => state[selector], equalityFn]\n  }\n  return [selector, equalityFn]\n}\n\n\n// import axios from \"axios\";\n// import { defaultTo, includes, isString, mapKeys, mapValues } from 'lodash'\n// import { SIMPLE } from '../constants'\n//\n// // const requestWatchers = mapValues(mapKeys(['page', 'perPage']), (name) => function(newValue, preValue){\n// //   console.log(name, newValue, preValue);\n// //   this.get().fetchData()\n// // })\n//\n// const defaultPage = 1\n// const defaultPerPage = 10\n//\n// const useQueryStore = create(\n//   (set, get) => ({\n//     loading: false,\n//     setLoading: (loading) => set({ loading }),\n//\n//     url: null,\n//     setUrl: (url) => set({ url }),\n//\n//     pagination: SIMPLE,\n//     setPagination: (pagination) => set({ pagination }),\n//\n//     page: defaultPage,\n//     setPage: (payload) => {\n//       let page = parseInt(payload)\n//\n//       if(page > 0) set({ page })\n//       if(isNaN(page)) set({ page: defaultPage })\n//     },\n//\n//     perPage: defaultPerPage,\n//     setPerPage: (payload) => {\n//       let perPage = parseInt(payload)\n//\n//       if(perPage > 0) set({ perPage })\n//       if(isNaN(perPage)) set({ perPage: defaultPerPage })\n//     },\n//\n//     lastPage: null,\n//\n//     data: [],\n//     setData: (data) => set({ data }),\n//\n//     meta: null,\n//     links: null,\n//     setResponse: (resp) => {\n//       let meta = resp.meta,\n//           data = resp.data\n//\n//       if(includes(['load-more', 'infinite-loading'], get().pagination)) {\n//         meta.from = 1\n//         data = get().data.concat(data)\n//       }\n//\n//       set({\n//         meta,\n//         links: resp.links,\n//         data,\n//         lastPage: resp.meta.last_page\n//       })\n//     },\n//\n//     init: (props) => {\n//       let page = defaultTo(props.page, 1),\n//         perPage = props.perPage,\n//         pagination = defaultTo(props.pagination, 'simple'),\n//         initPage = page,\n//         initPerPage = perPage\n//\n//       if (pagination === 'load-more' && page > 1) {\n//         initPage = 1\n//         initPerPage = perPage * page\n//       }\n//\n//       set({\n//         url: props.url,\n//         page,\n//         perPage,\n//         pagination\n//       })\n//\n//       get().fetchData({\n//         page: initPage,\n//         perPage: initPerPage\n//       })\n//     },\n//\n//     reset: () => {\n//       set({\n//         page: 1,\n//         data: [],\n//       })\n//     },\n//\n//     fetchData: async (params) => {\n//       get().setLoading(true)\n//\n//       try {\n//         const response = await axios(get().getRequest(params)).then(resp => resp.data)\n//         get().setResponse(response)\n//       } catch (err){\n//         console.error(err);\n//       } finally {\n//         get().setLoading(false)\n//       }\n//     },\n//\n//     handleSuccess: null,\n//\n//     setHandleSuccess: (handleSuccess) => set({handleSuccess}),\n//\n//     nextPage: () => {\n//       get().hasNextPage && get().setPage(get().page+1)\n//     },\n//\n//     getRequest: (params = {}) => {\n//       const { page = get().page, perPage = get().perPage} = params\n//\n//       if(isString(get().url)) {\n//         return {\n//           method: 'get',\n//           url: get().url,\n//           params: {\n//             page,\n//             perPage\n//           }\n//         }\n//       }\n//\n//       return get().url\n//     },\n//   }),\n//   {\n//     computed: {\n//\n//       response: function() {\n//         return {\n//           meta: this.meta,\n//           links: this.links,\n//           data: this.data,\n//         }\n//       },\n//\n//       hasNextPage: function(){\n//         return this.page <= this.lastPage\n//       },\n//\n//       hasGoTo: function(){\n//         return this.page <= this.lastPage\n//       }\n//     },\n//     watchers: {\n//\n//     },\n//     middleware: [],\n//     settings: {},\n//   }\n// )\n//\n// export default useQueryStore","import { useQueryClient } from '@tanstack/react-query'\nimport { useStore } from './context'\nimport { useCallback, useEffect, useRef } from 'react'\nimport { debounce, isEmpty } from 'lodash'\nimport { useRafState } from 'react-use'\nimport $ from 'jquery'\n\nexport const useInit = (props) => {\n  const queryClient = useQueryClient()\n\n  const [queryKey, init] = useStore('queryKey, init')\n\n  useEffect(() => {\n    !isEmpty(queryKey) && queryClient.cancelQueries(queryKey)\n\n    init(props)\n  }, [JSON.stringify(props.queryKey), props.url, props.page, props.perPage])\n}\n\nexport const useScrollList = ({scrollTarget, scrollIndex, scrollTop, wait = 300}) => {\n  const ref = useRef()\n\n  const [position, setPostion] = useRafState({\n    x: 0,\n    y: 0,\n  });\n\n  const handler = useCallback((event) => {\n    let positionKeys = scrollTarget ? {x: 'scrollLeft', y: 'scrollTop'} : {x: 'pageXOffset', y: 'pageYOffset'}\n\n    setPostion({\n      x:  ref.current[positionKeys.x],\n      y:  ref.current[positionKeys.y],\n    });\n  }, [scrollTarget])\n\n  useEffect(() => {\n    ref.current = scrollTarget ? document.querySelector(scrollTarget) : window\n\n    ref.current.addEventListener('scroll', debounce(handler, wait));\n\n    return () => {\n      ref.current.removeEventListener('scroll', handler);\n    }\n\n  }, [])\n\n\n  useEffect(() => {\n    // console.log($(`#item-${scrollIndex}`).get(0), scrollIndex);\n    // let element = $(`#item-${scrollIndex}`).get(0)\n    // if(element) scrollIntoView(element, $(scrollTarget).get(0))\n\n    setTimeout(() => {\n      scrollTo($(scrollTarget).get(0))\n    }, 1000)\n    // console.log(scrollIndex);\n  }, [scrollIndex])\n\n  return position\n}","import { isString, isUndefined } from 'lodash'\nimport axios from 'axios'\n\nconst fetchData = async ({ meta, pageParam, queryKey, signal }) => {\n  const { url, params, ...rest } = queryKey[1]\n\n  const request = isString(url)\n    ? {\n      method: 'get',\n      url,\n      ...params\n    }\n    : {\n      params: {\n        ...params,\n        ...url?.params\n      },\n      ...url\n    }\n\n  if (!isUndefined(pageParam)) request.params.page = pageParam\n\n\n  const response = await axios({\n    signal,\n    ...request\n  })\n\n  return response.data\n}\n\nexport default fetchData","import React from 'react'\nimport { Pagination as MuiPagination } from '@mui/material'\nimport { useStore } from '../../../context'\n\nfunction Simple({ meta }) {\n  const setPage = useStore('setPage')\n\n  const onChange = (event, value) => setPage(value)\n\n  return (\n    <MuiPagination\n      variant=\"outlined\"\n      showFirstButton\n      showLastButton\n      onChange={onChange}\n      count={meta?.last_page}\n      page={meta?.current_page}\n    />\n  )\n}\n\nexport default Simple","import {\n  MenuItem,\n  Pagination as MuiPagination,\n  Stack,\n  TextField,\n  Typography,\n} from '@mui/material'\nimport React, { useMemo } from 'react'\nimport { useStore } from '../../../context'\nimport { flow, sortBy, uniq } from 'lodash'\n\nfunction Advanced({ meta, sizes, size }) {\n  const [perPage, setPerPage, setPage] = useStore(\n    'perPage, setPerPage, setPage'\n  )\n  const lastPage = meta?.last_page\n  const page = meta?.current_page\n\n  const onChange = (event, value) => setPage(value)\n\n  const handleGoto = (event) => {\n    let inputPage = parseInt(event.target.value)\n\n    if (\n      (event.key === 'Enter' || event.type === 'blur') &&\n      inputPage > 0 &&\n      inputPage !== page\n    ) {\n      if (inputPage <= lastPage) {\n        setPage(inputPage)\n      } else {\n        alert(`Not found page ${inputPage}`)\n      }\n    }\n  }\n\n  const handleSizeChange = (event) => setPerPage(parseInt(event.target.value))\n\n  const sizeList = useMemo(\n    () => flow([uniq, sortBy])(sizes.concat(size)),\n    [sizes, size]\n  )\n\n  console.log(sizeList)\n\n  return (\n    <Stack\n      direction=\"row\"\n      spacing={2}\n      alignItems=\"center\"\n      justifyContent=\"center\"\n    >\n      <MuiPagination\n        variant=\"outlined\"\n        showFirstButton\n        showLastButton\n        shape=\"rounded\"\n        onChange={onChange}\n        count={lastPage}\n        page={page}\n      />\n      <TextField\n        select\n        label=\"Size\"\n        value={perPage}\n        onChange={handleSizeChange}\n        size=\"small\"\n        style={{ width: 110 }}\n      >\n        {sizeList.map((value, k) => (\n          <MenuItem key={k} value={value} defaultValue>\n            {value} / page\n          </MenuItem>\n        ))}\n      </TextField>\n      <Typography>Go to</Typography>\n      <TextField\n        label=\"Page\"\n        variant=\"outlined\"\n        onKeyUp={handleGoto}\n        onBlur={handleGoto}\n        size=\"small\"\n        type=\"number\"\n        style={{ width: 85 }}\n      />\n    </Stack>\n  )\n}\n\nAdvanced.defaultProps = {\n  sizes: [10, 20, 50, 100, 200],\n}\n\nexport default Advanced\n","import React from 'react'\nimport { Button, List } from '@mui/material'\nimport { usePagination } from '@mui/lab'\nimport { filter, includes } from 'lodash'\nimport { useStore } from '../../../context'\n\nfunction Links({ meta }) {\n  const setPage = useStore('setPage')\n\n  const { items } = usePagination({\n    count: meta?.last_page,\n    onChange: (event, value) => setPage(value),\n  })\n\n  const filteredItems = filter(items, (item) =>\n    includes(['previous', 'next'], item.type)\n  )\n\n  return (\n    <nav>\n      <List>\n        {filteredItems.map(({ page, type, selected, ...item }, index) => {\n          return (\n            <Button type=\"button\" {...item} key={index}>\n              {type}\n            </Button>\n          )\n        })}\n      </List>\n    </nav>\n  )\n}\n\nexport default Links","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { get } from 'lodash'\n\nimport Simple from './types/Simple'\nimport Advanced from './types/Advanced'\nimport LoadMore from './types/LoadMore'\nimport Links from './types/Links'\nimport InfiniteLoading from './types/InfiniteLoading'\nimport { ADVANCED, INFINITE_LOADING, LINKS, LOAD_MORE, SIMPLE } from '../../constants'\nimport { isFunctionComponent } from '../../utils/detectReactObject'\nimport { useStore } from '../../context'\n\nfunction QueryPagination(props) {\n  const type = useStore('pagination')\n\n  const Component = isFunctionComponent(type) ? type : get(QueryPagination.types, type, Simple)\n\n  return <Component {...props} />\n}\n\nQueryPagination.propTypes = {\n  type: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n}\n\nQueryPagination.types = {\n  [SIMPLE]: Simple,\n  [LINKS]: Links,\n  [ADVANCED]: Advanced,\n  [LOAD_MORE]: LoadMore,\n  [INFINITE_LOADING]: InfiniteLoading,\n}\n\nexport default QueryPagination;","import { isValidElement } from 'react'\n\nfunction isClassComponent(component) {\n  return (\n    typeof component === 'function' && !!component.prototype?.isReactComponent\n  )\n}\n\nfunction isFunctionComponent(component) {\n  return (\n    typeof component === 'function' &&\n    // && !!String(component).includes('return React.createElement')  // may fails\n    isValidElement(component())\n  )\n}\n\nfunction isReactComponent(component) {\n  return isClassComponent(component) || isFunctionComponent(component)\n}\n\nfunction isElement(element) {\n  return isValidElement(element)\n}\n\nfunction isDOMTypeElement(element) {\n  return isElement(element) && typeof element.type === 'string'\n}\n\nfunction isCompositeTypeElement(element) {\n  return isElement(element) && typeof element.type === 'function'\n}\n\nexport {\n  isClassComponent,\n  isFunctionComponent,\n  isReactComponent,\n  isElement,\n  isDOMTypeElement,\n  isCompositeTypeElement,\n}","import React from 'react'\nimport { Button } from '@mui/material'\n\nfunction LoadMore({ queryInfo }) {\n  const { isFetchingNextPage, fetchNextPage, hasNextPage } = queryInfo || {}\n\n  if (!hasNextPage) return 'Nothing more to load'\n\n  return (\n    <Button\n      variant=\"outlined\"\n      onClick={() => fetchNextPage()}\n      disabled={!hasNextPage || isFetchingNextPage}\n    >\n      {isFetchingNextPage ? 'Loading more...' : 'Load More'}\n    </Button>\n  )\n}\n\nexport default LoadMore\n","import React from 'react'\nimport { Button, LinearProgress, Stack } from '@mui/material'\nimport { InView } from 'react-intersection-observer'\n\nfunction InfiniteLoading({ queryInfo, data, threshold }) {\n  const { isFetchingNextPage, fetchNextPage, hasNextPage } = queryInfo || {}\n\n  const handleNextPage = (inView) => inView && hasNextPage && fetchNextPage()\n\n  if (!hasNextPage) return 'Nothing more to load'\n\n  if (isFetchingNextPage)\n    return <LinearProgress className=\"w-full mt-12\" color=\"secondary\" />\n\n  if (threshold) return null\n\n  return (\n    <Stack alignItems=\"center\">\n      <InView\n        as={Button}\n        onClick={() => fetchNextPage()}\n        disabled={!hasNextPage || isFetchingNextPage}\n        onChange={handleNextPage}\n      >\n        Load More\n      </InView>\n    </Stack>\n  )\n}\n\nexport default InfiniteLoading","import { useInfiniteQuery } from '@tanstack/react-query'\nimport { InView } from 'react-intersection-observer'\nimport { get, has } from 'lodash'\nimport React, { forwardRef, Fragment, useEffect, useMemo } from 'react'\nimport { INFINITE_LOADING } from '../../constants'\nimport { Box, Button, LinearProgress, Stack } from '@mui/material'\nimport { useInit } from '../../hooks'\nimport { useStore } from '../../context'\nimport fetchData from '../../utils/fetchData'\nimport QueryPagination from '../QueryPagination/QueryPagination'\nimport { scrollTo } from 'scroll-js'\nimport ListItem from '../../utils/renderListItem'\n\nconst InfiniteQueryList = forwardRef((props, ref) => {\n  const { renderListItem: ListItem, renderList: List, wrapperListItem, onRowClicked } = props\n\n  const [queryKey, selected, setSelected] = useStore('queryKey, selected, setSelected')\n\n  const queryInfo = useInfiniteQuery(queryKey, fetchData, {\n    getPreviousPageParam: (firstPage, allPages) => {\n      let previousPage = firstPage.meta.current_page - 1\n      return previousPage > 0 ? previousPage : undefined\n    },\n    getNextPageParam: (lastPage, allPages) => {\n      let nextPage = lastPage.meta.current_page + 1\n      return nextPage <= lastPage.meta.last_page ? nextPage : undefined\n    },\n  })\n\n  const {\n    status,\n    data,\n    error,\n    isFetching,\n    isFetchingNextPage,\n    isFetchingPreviousPage,\n    fetchNextPage,\n    fetchPreviousPage,\n    hasNextPage,\n    hasPreviousPage,\n  } = queryInfo\n\n  useInit(props)\n\n  const handleNextPage = (inView, entry, index) => {\n    if (inView && hasNextPage && !has(data, ['pages', index + 1])) {\n      fetchNextPage()\n    }\n  }\n\n  const onScrollTop = () => {\n    scrollTo(document.querySelector(props.scrollTarget) || window, {\n      top: 0,\n      duration: 200,\n    })\n  }\n\n  const firstRow = useMemo(() => get(data, 'pages.0.data.0'), [get(data, 'pages.0.data.0')])\n\n  useEffect(() => {\n    // console.log(ref)\n  }, [])\n\n  return (\n    <div>\n      {status === 'loading' ? (\n        <LinearProgress className=\"w-full\" color=\"primary\" />\n      ) : status === 'error' ? (\n        <span>Error: {error.message}</span>\n      ) : (\n        <>\n          {props.page > 1 && (\n            <Button\n              className=\"mb-6\"\n              onClick={() => fetchPreviousPage()}\n              disabled={!hasPreviousPage || isFetchingPreviousPage}\n            >\n              {isFetchingPreviousPage\n                ? 'Loading more...'\n                : hasPreviousPage\n                  ? 'Load Older'\n                  : 'Nothing more to load'}\n            </Button>\n          )}\n\n          <List meta={data?.meta} firstRow={firstRow} aaa={123}>\n            {data.pages?.map((page, pageIndex) => (\n              <Fragment key={pageIndex}>\n                {page.data.map((item, itemIndex) => {\n                  let serial = itemIndex + page.meta.from,\n                    hasInView = (\n                      props.pagination === INFINITE_LOADING &&\n                      props.threshold &&\n                      props.threshold > 0 &&\n                      props.threshold <= page.data.length &&\n                      page.data.length - props.threshold === itemIndex + 1\n                    ),\n                    onChange = (inView, entry) => handleNextPage(inView, entry, pageIndex),\n                    wrapperListItemProps = {\n                      key: itemIndex,\n                      component: hasInView ? InView : Box,\n                      onChange\n                    },\n                    listItemProps = {\n                      serial,\n                      data: item,\n                      meta: page.meta,\n                      onRowClicked: (e, data) => {\n                        let itemSelected = selected === serial ? false : serial\n\n                        setSelected(itemSelected)\n                        onRowClicked(e, { item: data, selected: itemSelected })\n                      },\n                      selected: serial === selected,\n                      setSelected\n                    }\n\n                  if(!wrapperListItem) return <ListItem key={itemIndex} {...listItemProps} />\n\n                  return (\n                    <Box {...wrapperListItemProps}>\n                      <ListItem {...listItemProps} />\n                    </Box>\n                  )\n                })}\n              </Fragment>\n            ))}\n          </List>\n\n\n\n          {props.backToTop && props.scrollPosition?.y > 400 && (\n            <Button\n              onClick={onScrollTop}\n              className=\"fixed\"\n              sx={{ bottom: 90, right: 100, zIndex: 100 }}\n              variant=\"outlined\"\n            >\n              <i className=\"fa-solid fa-arrow-up-to-line mr-10\"></i>\n              Back to top\n            </Button>\n          )}\n\n          <Stack direction=\"row\" justifyContent=\"center\">\n            <QueryPagination\n              queryInfo={queryInfo}\n              data={data}\n              threshold={props.threshold}\n            />\n          </Stack>\n\n          {isFetching && !isFetchingNextPage ? (\n            <Stack className=\"mt-6\" alignItems=\"center\" spacing={1}>\n              <p className=\"font-semibold\">Background Updating...</p>\n              <LinearProgress className=\"w-full\" color=\"primary\" />\n            </Stack>\n          ) : null}\n        </>\n      )}\n    </div>\n  )\n})\n\nInfiniteQueryList.defaultProps = {\n  wrapperListItem: true\n}\n\nexport default InfiniteQueryList","import React, { Fragment, useMemo } from 'react'\nimport { useQuery } from '@tanstack/react-query'\nimport { useStore } from '../../context'\nimport { useInit } from '../../hooks'\nimport fetchData from '../../utils/fetchData'\nimport QueryPagination from '../QueryPagination/QueryPagination'\nimport { Alert, LinearProgress, Stack } from '@mui/material'\nimport { useUpdateEffect } from 'react-use'\nimport $ from 'jquery'\nimport { get } from 'lodash'\n\nfunction SimpleQueryList(props) {\n  const { renderListItem: ListItem, renderList: List, onRowClicked } = props\n\n  const [queryKey, selected, setSelected] = useStore('queryKey, selected, setSelected')\n\n  const queryInfo = useQuery(queryKey, fetchData, {\n    keepPreviousData: true,\n    staleTime: 5000,\n  })\n\n  const { isLoading, isSuccess, isFetching, error, data } = queryInfo\n\n  useInit(props)\n\n  useUpdateEffect(() => {\n    $(props.scrollTarget || window).scrollTop(0)\n  }, [data])\n\n  const firstRow = useMemo(() => get(data, 'data.0'), [get(data, 'data.0')])\n\n  return (\n    <Stack spacing={1.5}>\n      {isLoading && <LinearProgress />}\n      {error?.message && (\n        <Alert variant=\"filled\" severity=\"error\">\n          {error?.message}\n        </Alert>\n      )}\n\n      {isSuccess && (\n        <>\n          <List meta={data?.meta} firstRow={firstRow}>\n            {data?.data?.map((item, key) => {\n              let serial = data.meta.from + key,\n                  listItemProps = {\n                  key,\n                  serial: data.meta.from + key,\n                  data: item,\n                  meta: data?.meta,\n                  onRowClicked: (e, data) => {\n                    let itemSelected = selected === serial ? false : serial\n                    setSelected(itemSelected)\n                    onRowClicked(e, { item, selected: itemSelected })\n                  },\n              }\n\n              return <ListItem {...listItemProps}/>\n            })}\n          </List>\n          {isFetching && <LinearProgress />}\n        </>\n      )}\n\n      {data?.meta && (\n        <QueryPagination\n          meta={data.meta}\n          size={props.perPage}\n          sizes={props.sizes}\n        />\n      )}\n    </Stack>\n  )\n}\n\nexport default SimpleQueryList","import numeral from 'numeral'\r\n\r\nfunction formatNumber(number, format = '0,0') {\r\n  return numeral(number).format(format)\r\n}\r\n\r\nexport default formatNumber","import formatNumber from './formatNumber'\r\nimport { Divider, Stack } from '@mui/material'\r\n\r\nfunction renderList({ children, meta, ...props }) {\r\n  return (\r\n    <Stack spacing={1}>\r\n      <div>\r\n        Kết quả từ {formatNumber(meta.from)}-{formatNumber(meta.to)} trong số{' '}\r\n        {formatNumber(meta.total)}\r\n      </div>\r\n\r\n      <Stack\r\n        spacing={2}\r\n        divider={<Divider orientation=\"horizontal\" />}\r\n        sx={{ py: 2 }}\r\n      >\r\n        {children}\r\n      </Stack>\r\n    </Stack>\r\n  )\r\n}\r\n\r\nexport default renderList","import { includes } from 'lodash'\nimport { INFINITE_LOADING, LOAD_MORE, SIMPLE } from '../../constants'\nimport React, { forwardRef, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport InfiniteQueryList from './InfiniteQueryList'\nimport SimpleQueryList from './SimpleQueryList'\nimport { createStore, Provider } from '../../context'\nimport { useScrollList } from '../../hooks'\nimport renderListItem from '../../utils/renderListItem'\nimport renderList from '../../utils/renderList'\n\nconst QueryList = forwardRef((props, ref) => {\n  const scrollPosition = useScrollList(props)\n\n  const queryListProps = {\n    ...props,\n    scrollPosition\n  }\n\n  return (\n    <Provider createStore={createStore}>\n      {includes([LOAD_MORE, INFINITE_LOADING], props.pagination) ? (\n        <InfiniteQueryList ref={ref} {...queryListProps} />\n      ) : (\n        <SimpleQueryList ref={ref} {...queryListProps} />\n      )}\n    </Provider>\n  )\n})\n\nQueryList.propTypes = {\n  queryKey: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  url: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  pagination: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  page: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  perPage: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  select: PropTypes.func,\n  threshold: PropTypes.number,\n\n  scrollTop: PropTypes.bool,\n  scrollTarget: PropTypes.string,\n}\n\nQueryList.defaultProps = {\n  pagination: SIMPLE,\n  page: 1,\n  perPage: 10,\n  renderListItem: renderListItem,\n  renderList: renderList,\n  backToTop: false,\n  onRowClicked: () => {}\n}\n\nexport default QueryList\n","function renderListItem({serial, data}){\r\n  return (\r\n    <div>\r\n      {serial}) {data.id}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default renderListItem"],"names":["SIMPLE","LOAD_MORE","INFINITE_LOADING","PAGINATION_TYPES","_PAGINATION_TYPES","LINKS","createStore","create","set","get","pagination","queryKey","init","props","url","console","log","selected","setSelected","setPage","page","produce","state","params","setPerPage","perPage","computed","this","context","createContext","Provider","useStore","selector","equalityFn","stateHook","indexOf","split","map","part","trim","prop","shallow","useInit","queryClient","useQueryClient","_useStore","useEffect","isEmpty","cancelQueries","JSON","stringify","_ref","meta","pageParam","signal","_queryKey$","request","_objectWithoutPropertiesLoose","_excluded","isString","method","_extends","isUndefined","Promise","resolve","axios","response","data","e","reject","React","createElement","MuiPagination","variant","showFirstButton","showLastButton","onChange","event","value","count","last_page","current_page","Advanced","sizes","size","lastPage","handleGoto","inputPage","parseInt","target","key","type","alert","sizeList","useMemo","flow","uniq","sortBy","concat","Stack","direction","spacing","alignItems","justifyContent","shape","TextField","select","label","style","width","k","MenuItem","defaultValue","Typography","onKeyUp","onBlur","defaultProps","_QueryPagination$type","component","Component","isValidElement","QueryPagination","types","Simple","propTypes","PropTypes","oneOfType","string","func","_usePagination","usePagination","filteredItems","filter","items","item","List","index","_ref2","Button","queryInfo","isFetchingNextPage","fetchNextPage","hasNextPage","onClick","disabled","threshold","LinearProgress","className","color","InView","as","inView","InfiniteQueryList","forwardRef","ref","_data$pages","_props$scrollPosition","renderListItem","renderList","wrapperListItem","onRowClicked","useInfiniteQuery","fetchData","getPreviousPageParam","firstPage","allPages","previousPage","undefined","getNextPageParam","nextPage","status","error","isFetching","isFetchingPreviousPage","fetchPreviousPage","hasPreviousPage","firstRow","message","aaa","pages","pageIndex","Fragment","itemIndex","serial","from","listItemProps","itemSelected","Box","length","entry","has","handleNextPage","ListItem","backToTop","y","scrollPosition","scrollTo","document","querySelector","scrollTarget","window","top","duration","sx","bottom","right","zIndex","InfiniteQueryList$1","SimpleQueryList","_data$data","useQuery","keepPreviousData","staleTime","isLoading","isSuccess","useUpdateEffect","$","scrollTop","Alert","severity","formatNumber","number","format","numeral","QueryList","scrollIndex","wait","_ref$wait","useRef","useRafState","x","position","setPostion","_useRafState","handler","useCallback","positionKeys","current","addEventListener","debounce","removeEventListener","setTimeout","useScrollList","queryListProps","includes","array","object","bool","id","children","to","total","divider","Divider","orientation","py","QueryList$1"],"mappings":"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"}